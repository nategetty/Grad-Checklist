<!DOCTYPE html>
<html>
    <head>
        <title>Results</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="style/global.css" />
        <style>
            .results {
                flex: 0 1 80em;
                display: flex;
                flex-flow: row wrap;
                gap: 1em;
                justify-content: center;
                align-items: flex-start;
            }

            .results > h2 {
                flex-basis: 100%;
                padding-left: 1rem;
            }

            .results-column {
                flex: 1 1 20em;
                display: flex;
                flex-direction: column;
                gap: 1em;
                max-width: 24em;
            }

            .results-column-wide {
                flex: 1 1 32em;
                max-width: 32em;
            }

            .summary-result {
                padding: 1em 1.5em;
                border-radius: 1em;
                display: flex;
                flex-direction: row;
                align-items: center;
            }
            
            .requirement-table {
                line-height: 1em;
            }

            .requirement-table td,
            .requirement-table th {
                padding: 0.5em 0em;
            }

            .requirement-table td:first-child {
                flex: 0 0 1.6em;
            }

            .requirement-table td:first-child svg {
                vertical-align: top;
            }

            .requirement-table td:nth-child(2),
            .requirement-table th:nth-child(2) {
                padding-right: 2em;
            }

            .requirement-table td:nth-child(3) {
                flex: 0;
                white-space: nowrap;
                font-weight: bold;
            }

            .requirement-table > hr {
                width: 100%;
            }

            .requirement-table tbody:not(:first-child) {
                margin-top: 1em;
                border-top: 0.1em solid;
                padding-top: 1em;
            }

            :root {
                --complete-color: #00bb00;
                --pending-color: #fe8a05;
                --incomplete-color: #ee0000;
            }

            .incomplete {
                color: var(--incomplete-color);
            }

            .incomplete-bg {
                background-color: var(--incomplete-color);
            }

            .complete {
                color: var(--complete-color);
            }

            .complete-bg {
                background-color: var(--complete-color);
            }

            .pending {
                color: var(--pending-color);
            }

            .pending-bg {
                background-color: var(--pending-color);
            }

            .status-icon {
                cursor: default;
            }
        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="script/global.js"></script>
        <script>
            const TEST_RESULT = [
                {
                    modules: ["Honours Specialization in Computer Science"],
                    status: 0,
                    total_courses: {status: 0, value: "15.0", required_value: "20.0"},
                    completed_courses: "10.0",
                    pending_courses: "5.0",
                    first_year_courses: {status: 1, value: "5.0", required_value: "5.0"},
                    first_year_different_subjects: {status: 1, value: null, required_value: null},
                    first_year_one_subject_limit: {status: 1, value: null, required_value: null},
                    senior_courses: {status: 0, value: "10.0", required_value: "13.0"},
                    cumulative_average: {status: 1, value: 78, required_value: 65},
                    lowest_grade: {status: 1, value: 58, required_value: 50},
                    category_a: {status: 0, value: "0.5", required_value: "1.0"},
                    category_b: {status: 1, value: "1.0", required_value: "1.0"},
                    category_c: {status: 1, value: "1.0", required_value: "1.0"},
                    total_essay_courses: {status: 1, value: "2.0", required_value: "2.0"},
                    senior_essay_courses: {status: 2, value: "1.0", required_value: "1.0"},
                    principal_courses: {status: 1, value: "3.0", required_value: "3.0"},
                    principal_courses_average: {status: 1, value: 77, required_value: 70},
                    principal_courses_lowest_grade: {status: 1, value: 70, required_value: 60},
                    admission_requirements: [
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: {status: 1, value: 75, required_value: 65}, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Computer Science", number: 1025, suffix: "A/B"},
                            {status: 1, grade: 75, subject_name: "Computer Science", number: 1026, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Data Science", number: 1200, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Engineering Science", number: 1036, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: {status: 1, value: 72, required_value: 65}, required_average: null, courses: [
                            {status: 1, grade: 72, subject_name: "Computer Science", number: 1027, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Computer Science", number: 1037, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "1.0", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Applied Mathematics", number: 1201, suffix: "A/B"},
                            {status: 1, grade: 70, subject_name: "Calculus", number: 1000, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Calculus", number: 1301, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Calculus", number: 1500, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Calculus", number: 1501, suffix: "A/B"},
                            {status: 1, grade: 71, subject_name: "Mathematics", number: 1600, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Numerical and Mathematical Methods", number: 1411, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Numerical and Mathematical Methods", number: 1412, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Numerical and Mathematical Methods", number: 1414, suffix: "A/B"}
                        ], subjects: []}
                    ],
                    module_courses: {status: 0, value: "4.5", required_value: "9.0"},
                    module_average: {status: 1, value: 74, required_value: 70},
                    module_lowest_grade: {status: 1, value: 62, required_value: 60},
                    module_requirements: [
                        {status: 0, total_credit: "5.5", is_from: false, minimum_grade: null, required_average: null, courses: [
                            {status: 1, grade: 62, subject_name: "Computer Science", number: 2208, suffix: "A/B"},
                            {status: 1, grade: 81, subject_name: "Computer Science", number: 2209, suffix: "A/B"},
                            {status: 1, grade: 80, subject_name: "Computer Science", number: 2210, suffix: "A/B"},
                            {status: 1, grade: 78, subject_name: "Computer Science", number: 2211, suffix: "A/B"},
                            {status: 1, grade: 71, subject_name: "Computer Science", number: 2212, suffix: "A/B"},
                            {status: 2, grade: null, subject_name: "Computer Science", number: 3305, suffix: "A/B"},
                            {status: 2, grade: null, subject_name: "Computer Science", number: 3307, suffix: "A/B"},
                            {status: 0, grade: null, subject_name: "Computer Science", number: 3331, suffix: "A/B"},
                            {status: 2, grade: null, subject_name: "Computer Science", number: 3340, suffix: "A/B"},
                            {status: 2, grade: null, subject_name: "Computer Science", number: 3342, suffix: "A/B"},
                            {status: 2, grade: null, subject_name: "Computer Science", number: 3350, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: 1, grade: 74, subject_name: "Computer Science", number: 2214, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Mathematics", number: 2214, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Writing", number: 2101, suffix: "F/G"},
                            {status: 1, grade: 80, subject_name: "Writing", number: 2111, suffix: "F/G"},
                            {status: null, grade: null, subject_name: "Writing", number: 2125, suffix: "F/G"},
                            {status: null, grade: null, subject_name: "Writing", number: 2131, suffix: "F/G"}
                        ], subjects: []},
                        {status: 0, total_credit: "0.5", is_from: false, minimum_grade: null, required_average: null, courses: [
                            {status: 0, grade: null, subject_name: "Computer Science", number: 4490, suffix: "Z"}
                        ], subjects: []},
                        {status: 0, total_credit: "1.0", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Data Science", number: 3000, suffix: "A/B"}
                        ], subjects: [
                            {status: null, subject_name: "Computer Science", minimum_level: 4000, courses: []},
                        ]},
                        {status: 2, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Science", number: 3377, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Mathematics", number: 2156, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Mathematics", number: 3159, suffix: "A/B"}
                        ], subjects: [
                            {status: 2, subject_name: "Computer Science", minimum_level: 3000, courses: [
                                {status: 2, grade: null, subject_name: "Computer Science", number: 3388, suffix: "A/B"},
                            ]},
                        ]},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Statistical Sciences", number: 2141, suffix: "A/B"},
                            {status: 1, grade: 68, subject_name: "Statistical Sciences", number: 2244, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Biology", number: 2244, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Statistical Sciences", number: 2857, suffix: "A/B"}
                        ], subjects: []},
                    ]
                },
                {
                    modules: ["Honours Specialization in Computer Science"],
                    status: 1,
                    total_courses: {status: 1, value: "20.0", required_value: "20.0"},
                    completed_courses: "20.0",
                    pending_courses: "0",
                    first_year_courses: {status: 1, value: "5.0", required_value: "5.0"},
                    first_year_different_subjects: {status: 1, value: null, required_value: null},
                    first_year_one_subject_limit: {status: 1, value: null, required_value: null},
                    senior_courses: {status: 1, value: "13.0", required_value: "13.0"},
                    cumulative_average: {status: 1, value: 78, required_value: 65},
                    lowest_grade: {status: 1, value: 58, required_value: 50},
                    category_a: {status: 1, value: "1.0", required_value: "1.0"},
                    category_b: {status: 1, value: "1.0", required_value: "1.0"},
                    category_c: {status: 1, value: "1.0", required_value: "1.0"},
                    total_essay_courses: {status: 1, value: "2.0", required_value: "2.0"},
                    senior_essay_courses: {status: 1, value: "1.0", required_value: "1.0"},
                    principal_courses: {status: 1, value: "3.0", required_value: "3.0"},
                    principal_courses_average: {status: 1, value: 77, required_value: 70},
                    principal_courses_lowest_grade: {status: 1, value: 70, required_value: 60},
                    admission_requirements: [
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: {status: 1, value: 75, required_value: 65}, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Computer Science", number: 1025, suffix: "A/B"},
                            {status: 1, grade: 75, subject_name: "Computer Science", number: 1026, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Data Science", number: 1200, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Engineering Science", number: 1036, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: {status: 1, value: 72, required_value: 65}, required_average: null, courses: [
                            {status: 1, grade: 72, subject_name: "Computer Science", number: 1027, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Computer Science", number: 1037, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "1.0", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Applied Mathematics", number: 1201, suffix: "A/B"},
                            {status: 1, grade: 70, subject_name: "Calculus", number: 1000, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Calculus", number: 1301, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Calculus", number: 1500, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Calculus", number: 1501, suffix: "A/B"},
                            {status: 1, grade: 71, subject_name: "Mathematics", number: 1600, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Numerical and Mathematical Methods", number: 1411, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Numerical and Mathematical Methods", number: 1412, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Numerical and Mathematical Methods", number: 1414, suffix: "A/B"}
                        ], subjects: []}
                    ],
                    module_courses: {status: 1, value: "9.0", required_value: "9.0"},
                    module_average: {status: 1, value: 74, required_value: 70},
                    module_lowest_grade: {status: 1, value: 62, required_value: 60},
                    module_requirements: [
                        {status: 1, total_credit: "5.5", is_from: false, minimum_grade: null, required_average: null, courses: [
                            {status: 1, grade: 62, subject_name: "Computer Science", number: 2208, suffix: "A/B"},
                            {status: 1, grade: 81, subject_name: "Computer Science", number: 2209, suffix: "A/B"},
                            {status: 1, grade: 80, subject_name: "Computer Science", number: 2210, suffix: "A/B"},
                            {status: 1, grade: 78, subject_name: "Computer Science", number: 2211, suffix: "A/B"},
                            {status: 1, grade: 71, subject_name: "Computer Science", number: 2212, suffix: "A/B"},
                            {status: 1, grade: 80, subject_name: "Computer Science", number: 3305, suffix: "A/B"},
                            {status: 1, grade: 70, subject_name: "Computer Science", number: 3307, suffix: "A/B"},
                            {status: 1, grade: 72, subject_name: "Computer Science", number: 3331, suffix: "A/B"},
                            {status: 1, grade: 78, subject_name: "Computer Science", number: 3340, suffix: "A/B"},
                            {status: 1, grade: 71, subject_name: "Computer Science", number: 3342, suffix: "A/B"},
                            {status: 1, grade: 71, subject_name: "Computer Science", number: 3350, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: 1, grade: 74, subject_name: "Computer Science", number: 2214, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Mathematics", number: 2214, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Writing", number: 2101, suffix: "F/G"},
                            {status: 1, grade: 80, subject_name: "Writing", number: 2111, suffix: "F/G"},
                            {status: null, grade: null, subject_name: "Writing", number: 2125, suffix: "F/G"},
                            {status: null, grade: null, subject_name: "Writing", number: 2131, suffix: "F/G"}
                        ], subjects: []},
                        {status: 1, total_credit: "0.5", is_from: false, minimum_grade: null, required_average: null, courses: [
                            {status: 1, grade: 82, subject_name: "Computer Science", number: 4490, suffix: "Z"}
                        ], subjects: []},
                        {status: 1, total_credit: "1.0", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Data Science", number: 3000, suffix: "A/B"}
                        ], subjects: [
                            {status: 1, subject_name: "Computer Science", minimum_level: 4000, courses: [
                                {status: 1, grade: 77, subject_name: "Computer Science", number: 4446, suffix: "A/B"},
                                {status: 1, grade: 80, subject_name: "Computer Science", number: 4458, suffix: "A/B"},
                            ]},
                        ]},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Science", number: 3377, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Mathematics", number: 2156, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Mathematics", number: 3159, suffix: "A/B"}
                        ], subjects: [
                            {status: 1, subject_name: "Computer Science", minimum_level: 3000, courses: [
                                {status: 1, grade: 78, subject_name: "Computer Science", number: 3388, suffix: "A/B"},
                            ]},
                        ]},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Statistical Sciences", number: 2141, suffix: "A/B"},
                            {status: 1, grade: 68, subject_name: "Statistical Sciences", number: 2244, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Biology", number: 2244, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Statistical Sciences", number: 2857, suffix: "A/B"}
                        ], subjects: []},
                    ]
                },
                {
                    modules: ["Honours Specialization in Computer Science"],
                    status: 2,
                    total_courses: {status: 2, value: "20.0", required_value: "20.0"},
                    completed_courses: "15.0",
                    pending_courses: "5.0",
                    first_year_courses: {status: 1, value: "5.0", required_value: "5.0"},
                    first_year_different_subjects: {status: 1, value: null, required_value: null},
                    first_year_one_subject_limit: {status: 1, value: null, required_value: null},
                    senior_courses: {status: 1, value: "13.0", required_value: "13.0"},
                    cumulative_average: {status: 1, value: 78, required_value: 65},
                    lowest_grade: {status: 1, value: 58, required_value: 50},
                    category_a: {status: 1, value: "1.0", required_value: "1.0"},
                    category_b: {status: 1, value: "1.0", required_value: "1.0"},
                    category_c: {status: 1, value: "1.0", required_value: "1.0"},
                    total_essay_courses: {status: 1, value: "2.0", required_value: "2.0"},
                    senior_essay_courses: {status: 1, value: "1.0", required_value: "1.0"},
                    principal_courses: {status: 1, value: "3.0", required_value: "3.0"},
                    principal_courses_average: {status: 1, value: 77, required_value: 70},
                    principal_courses_lowest_grade: {status: 1, value: 70, required_value: 60},
                    admission_requirements: [
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: {status: 1, value: 75, required_value: 65}, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Computer Science", number: 1025, suffix: "A/B"},
                            {status: 1, grade: 75, subject_name: "Computer Science", number: 1026, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Data Science", number: 1200, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Engineering Science", number: 1036, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: {status: 1, value: 72, required_value: 65}, required_average: null, courses: [
                            {status: 1, grade: 72, subject_name: "Computer Science", number: 1027, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Computer Science", number: 1037, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "1.0", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Applied Mathematics", number: 1201, suffix: "A/B"},
                            {status: 1, grade: 70, subject_name: "Calculus", number: 1000, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Calculus", number: 1301, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Calculus", number: 1500, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Calculus", number: 1501, suffix: "A/B"},
                            {status: 1, grade: 71, subject_name: "Mathematics", number: 1600, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Numerical and Mathematical Methods", number: 1411, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Numerical and Mathematical Methods", number: 1412, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Numerical and Mathematical Methods", number: 1414, suffix: "A/B"}
                        ], subjects: []}
                    ],
                    module_courses: {status: 2, value: "9.0", required_value: "9.0"},
                    module_average: {status: 1, value: 74, required_value: 70},
                    module_lowest_grade: {status: 1, value: 62, required_value: 60},
                    module_requirements: [
                        {status: 1, total_credit: "5.5", is_from: false, minimum_grade: null, required_average: null, courses: [
                            {status: 1, grade: 62, subject_name: "Computer Science", number: 2208, suffix: "A/B"},
                            {status: 1, grade: 81, subject_name: "Computer Science", number: 2209, suffix: "A/B"},
                            {status: 1, grade: 80, subject_name: "Computer Science", number: 2210, suffix: "A/B"},
                            {status: 1, grade: 78, subject_name: "Computer Science", number: 2211, suffix: "A/B"},
                            {status: 1, grade: 71, subject_name: "Computer Science", number: 2212, suffix: "A/B"},
                            {status: 1, grade: 80, subject_name: "Computer Science", number: 3305, suffix: "A/B"},
                            {status: 1, grade: 70, subject_name: "Computer Science", number: 3307, suffix: "A/B"},
                            {status: 1, grade: 72, subject_name: "Computer Science", number: 3331, suffix: "A/B"},
                            {status: 1, grade: 78, subject_name: "Computer Science", number: 3340, suffix: "A/B"},
                            {status: 1, grade: 71, subject_name: "Computer Science", number: 3342, suffix: "A/B"},
                            {status: 1, grade: 71, subject_name: "Computer Science", number: 3350, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: 1, grade: 74, subject_name: "Computer Science", number: 2214, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Mathematics", number: 2214, suffix: "A/B"}
                        ], subjects: []},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Writing", number: 2101, suffix: "F/G"},
                            {status: 1, grade: 80, subject_name: "Writing", number: 2111, suffix: "F/G"},
                            {status: null, grade: null, subject_name: "Writing", number: 2125, suffix: "F/G"},
                            {status: null, grade: null, subject_name: "Writing", number: 2131, suffix: "F/G"}
                        ], subjects: []},
                        {status: 2, total_credit: "0.5", is_from: false, minimum_grade: null, required_average: null, courses: [
                            {status: 2, grade: null, subject_name: "Computer Science", number: 4490, suffix: "Z"}
                        ], subjects: []},
                        {status: 2, total_credit: "1.0", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Data Science", number: 3000, suffix: "A/B"}
                        ], subjects: [
                            {status: 2, subject_name: "Computer Science", minimum_level: 4000, courses: [
                                {status: 2, grade: null, subject_name: "Computer Science", number: 4446, suffix: "A/B"},
                                {status: 1, grade: 80, subject_name: "Computer Science", number: 4458, suffix: "A/B"},
                            ]},
                        ]},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Science", number: 3377, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Mathematics", number: 2156, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Mathematics", number: 3159, suffix: "A/B"}
                        ], subjects: [
                            {status: 1, subject_name: "Computer Science", minimum_level: 3000, courses: [
                                {status: 1, grade: 78, subject_name: "Computer Science", number: 3388, suffix: "A/B"},
                            ]},
                        ]},
                        {status: 1, total_credit: "0.5", is_from: true, minimum_grade: null, required_average: null, courses: [
                            {status: null, grade: null, subject_name: "Statistical Sciences", number: 2141, suffix: "A/B"},
                            {status: 1, grade: 68, subject_name: "Statistical Sciences", number: 2244, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Biology", number: 2244, suffix: "A/B"},
                            {status: null, grade: null, subject_name: "Statistical Sciences", number: 2857, suffix: "A/B"}
                        ], subjects: []},
                    ]
                }
            ];

            const STATUS_ICON = [
                `
                <svg viewBox="0 0 500 500" width="1em">
                    <title>Incomplete</title>
                    <g fill="none" stroke="currentColor" stroke-width="90">
                        <path stroke-linecap="round" d="M 90 90 L 410 410 M 410 90 L 90 410" />
                    </g>
                </svg>
                `,
                '<span title="Complete" class="status-icon">✔&#xFE0E;</span>',
                `
                <svg viewBox="0 0 500 500" width="1em">
                    <title>Final grade(s) pending</title>
                    <g fill="none" stroke="currentColor" stroke-width="60">
                        <circle cx="250" cy="250" r="215" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M 250 135 L 250 250 L 324 305" />
                    </g>
                </svg>
                `
            ];
            const STATUS_CLASS = ["incomplete", "complete", "pending"];
            const STATUS_BG_CLASS = ["incomplete-bg", "complete-bg", "pending-bg"];
            const STATUS_RESULT_HTML = [
                "<strong>Not eligible to graduate</strong>",
                "<strong>Eligible to graduate</strong>",
                `
                <div>
                    <strong>Eligible to graduate</strong>
                    <br />
                    <span>(Final grades pending)</span>
                </div>
                `
            ];

            function tdStatus(status) {
                if (status == null) {
                    return "<td></td>";
                } else {
                    return `
                    <td class="${STATUS_CLASS[status]}">
                        ${STATUS_ICON[status]}
                    </td>
                    `;
                }
            }

            function creditStr(credit) {
                const creditNum = parseFloat(credit);
                if (Number.isInteger(creditNum)) {
                    return creditNum.toFixed(1);
                } else {
                    return creditNum.toString();
                }
            }

            function tdCredit(item) {
                return `<td>${creditStr(item.value)} / ${creditStr(item.required_value)}</td>`;
            }

            function tdGrade(item) {
                return `<td>${item.value ?? NaN}% (min: ${item.required_value ?? NaN}%)`;
            }

            function trSummaryPending(result) {
                if (result.pending_courses != "0") {
                    return `
                        <tr class="tr-indent">
                            <td></td>
                            <td>Completed</td>
                            <td>${result.completed_courses}</td>
                        </tr>
                        <tr class="tr-indent">
                            <td></td>
                            <td>Final grade pending</td>
                            <td>${result.pending_courses}</td>
                        </tr>
                    `;
                } else {
                    return "";
                }
            }

            function trSummaryModule(module) {
                return `
                    <tr class="tr-indent">
                        <td></td>
                        <td>${module}</td>
                        <td></td>
                    </tr>
                `;
            }

            function appendSummarySection(container, result) {
                container.find(".summary-result")
                    .append(STATUS_ICON[result.status])
                    .append(STATUS_RESULT_HTML[result.status])
                    .addClass(STATUS_BG_CLASS[result.status]);
                const table = container.find(".requirement-table");
                table.html(`
                    <tr>
                        ${tdStatus(result.total_courses.status)}
                        <td>Total courses</td>
                        ${tdCredit(result.total_courses)}
                    </tr>
                    ${trSummaryPending(result)}
                    <tr>
                        <td></td>
                        <td>Modules</td>
                        <td></td>
                    </tr>
                    ${result.modules.map(trSummaryModule).join("\n")}
                `);
            }

            function appendFirstYear(container, result) {
                container.html(`
                    <tr>
                        ${tdStatus(result.first_year_courses.status)}
                        <td>First year courses</td>
                        ${tdCredit(result.first_year_courses)}
                    </tr>
                    <tr>
                        ${tdStatus(result.first_year_different_subjects.status)}
                        <td>At least 4 different subjects</td>
                    </tr>
                    <tr>
                        ${tdStatus(result.first_year_one_subject_limit.status)}
                        <td>No more than 2.0 in one subject</td>
                    </tr>
                `);
            }

            function appendSenior(container, result) {
                container.html(`
                    <tr>
                        ${tdStatus(result.senior_courses.status)}
                        <td>Senior courses</td>
                        ${tdCredit(result.senior_courses)}
                    </tr>
                `);
            }

            function appendAverage(container, result) {
                container.html(`
                    <tr>
                        ${tdStatus(result.cumulative_average.status)}
                        <td>Cumulative average</td>
                        ${tdGrade(result.cumulative_average)}
                    </tr>
                    <tr>
                        ${tdStatus(result.lowest_grade.status)}
                        <td>Lowest grade</td>
                        ${tdGrade(result.lowest_grade)}
                    </tr>
                `);
            }

            function appendBreadth(container, result) {
                container.html(`
                    <tr>
                        ${tdStatus(result.category_a.status)}
                        <td>Category A</td>
                        ${tdCredit(result.category_a)}
                    </tr>
                    <tr>
                        ${tdStatus(result.category_b.status)}
                        <td>Category B</td>
                        ${tdCredit(result.category_b)}
                    </tr>
                    <tr>
                        ${tdStatus(result.category_c.status)}
                        <td>Category C</td>
                        ${tdCredit(result.category_c)}
                    </tr>
                `);
            }

            function appendEssay(container, result) {
                container.html(`
                    <tr>
                        ${tdStatus(result.total_essay_courses.status)}
                        <td>Total essay courses</td>
                        ${tdCredit(result.total_essay_courses)}
                    </tr>
                    <tr class="tr-indent">
                        ${tdStatus(result.senior_essay_courses.status)}
                        <td>Senior essay courses</td>
                        ${tdCredit(result.senior_essay_courses)}
                    </tr>
                `);
            }

            function tdCourse(course) {
                return `<td>${course.subject_name} ${course.number}${course.suffix}</td>`;
            }

            function tdCourseStrong(course) {
                return `<td><strong>${course.subject_name} ${course.number}${course.suffix}</strong></td>`;
            }

            function tdCourseGrade(grade) {
                return `<td>${grade == null ? "" : `${grade}%`}</td>`;
            }

            function trCourse(course) {
                return `
                    <tr class="tr-indent">
                        ${tdStatus(course.status)}
                        ${tdCourse(course)}
                        ${tdCourseGrade(course.grade)}
                    </tr>
                `;
            }

            function trCourseFrom(course) {
                if (course.status == null) {
                    return `
                        <tr class="tr-indent">
                            <td></td>
                            ${tdCourse(course)}
                            <td></td>
                        </tr>
                    `;
                } else {
                    return `
                        <tr class="tr-indent">
                            ${tdStatus(course.status)}
                            ${tdCourseStrong(course)}
                            ${tdCourseGrade(course.grade)}
                        </tr>
                    `;
                }
            }

            function tdSubject(subject) {
                if (subject.minimum_level < 4000)
                    return `<td>${subject.subject_name} courses at the ${subject.minimum_level} level or above</td>`;
                else
                    return `<td>${subject.subject_name} courses at the ${subject.minimum_level} level</td>`;
            }

            function trSubjectCourse(course) {
                return `
                    <tr class="tr-indent-2">
                        ${tdStatus(course.status)}
                        ${tdCourse(course)}
                        ${tdCourseGrade(course.grade)}
                    </tr>
                `;
            }

            function trSubject(subject) {
                return `
                    <tr class="tr-indent">
                        ${subject.status == null ? "<td></td>" : tdStatus(subject.status)}
                        ${tdSubject(subject)}
                        <td></td>
                    </tr>
                    ${subject.courses.map(trSubjectCourse).join("\n")}
                `;
            }

            function requirementMinimumGradeRow(requirement) {
                if (requirement.minimum_grade != null) {
                    return `
                        <tr>
                            ${tdStatus(requirement.minimum_grade.status)}
                            <td>Lowest grade</td>
                            ${tdGrade(requirement.minimum_grade)}
                        </tr>
                    `;
                } else {
                    return "";
                }
            }

            function requirementAverageRow(requirement) {
                if (requirement.required_average != null) {
                    return `
                        <tr>
                            ${tdStatus(requirement.required_average.status)}
                            <td>Average</td>
                            ${tdGrade(requirement.required_average)}
                        </tr>
                    `;
                } else {
                    return "";
                }
            }

            function requirementRow(requirement) {
                return `
                    <tbody>
                        <tr>
                            ${tdStatus(requirement.status)}
                            <th>${creditStr(requirement.total_credit)} ${requirement.is_from ? "course from:" : "courses:"}</th>
                            ${requirement.subjects.map(trSubject).join("\n")}
                            ${requirement.courses.map(requirement.is_from ? trCourseFrom : trCourse).join("\n")}
                            ${requirementMinimumGradeRow(requirement)}
                            ${requirementAverageRow(requirement)}
                        </tr>
                    </tbody>
                `;
            }

            function appendAdmission(container, result) {
                container.html(`
                    <tbody>
                        <tr>
                            ${tdStatus(result.principal_courses.status)}
                            <td>Principal courses</td>
                            ${tdCredit(result.principal_courses)}
                        </tr>
                        <tr class="tr-indent">
                            ${tdStatus(result.principal_courses_average.status)}
                            <td>Average</td>
                            ${tdGrade(result.principal_courses_average)}
                        </tr>
                        <tr class="tr-indent">
                            ${tdStatus(result.principal_courses_lowest_grade.status)}
                            <td>Lowest grade</td>
                            ${tdGrade(result.principal_courses_lowest_grade)}
                        </tr>
                    </tbody>
                `);
                $(result.admission_requirements.map(requirementRow).join("\n")).appendTo(container);
            }

            function appendModule(container, result) {
                container.html(`
                    <tbody>
                        <tr>
                            ${tdStatus(result.module_courses.status)}
                            <td>Module courses</td>
                            ${tdCredit(result.module_courses)}
                        </tr>
                        <tr class="tr-indent">
                            ${tdStatus(result.module_average.status)}
                            <td>Average</td>
                            ${tdGrade(result.module_average)}
                        </tr>
                        <tr class="tr-indent">
                            ${tdStatus(result.module_lowest_grade.status)}
                            <td>Lowest grade</td>
                            ${tdGrade(result.module_lowest_grade)}
                        </tr>
                    </tbody>
                `);
                $(result.module_requirements.map(requirementRow).join("\n")).appendTo(container);
            }

            $(() => {
                includeHtml();

                let result;
                const testIdx = new URLSearchParams(window.location.search).get("test");
                if (testIdx == null) {
                    result = JSON.parse(sessionStorage.result);
                } else {
                    result = TEST_RESULT[testIdx];
                }

                appendSummarySection($("#summary-section"), result);
                appendFirstYear($("#first-year"), result);
                appendSenior($("#senior"), result);
                appendAverage($("#average"), result);
                appendBreadth($("#breadth"), result);
                appendEssay($("#essay"), result);
                appendAdmission($("#admission"), result);
                appendModule($("#module"), result);
            });
        </script>
    </head>
    <body class="primary">
        <header data-include="header"></header>
        <main class="body center-content">
            <div class="results">
                <h2>Results</h2>
                <div class="results-column">
                    <section class="box primary-alt" id="summary-section">
                        <h3>Summary</h3>
                        <div class="box summary-result"></div>
                        <table class="requirement-table"></table>
                    </section>
                    <section class="box primary-alt">
                        <h3>First year requirements</h3>
                        <table class="requirement-table" id="first-year"></table>
                    </section>
                    <section class="box primary-alt">
                        <h3>Senior course requirements</h3>
                        <table class="requirement-table" id="senior"></table>
                    </section>
                </div>
                <div class="results-column">
                    <section class="box primary-alt">
                        <h3>Average requirements</h3>
                        <table class="requirement-table" id="average"></table>
                    </section>
                    <section class="box primary-alt">
                        <h3>Breadth requirements</h3>
                        <table class="requirement-table" id="breadth"></table>
                    </section>
                    <section class="box primary-alt">
                        <h3>Essay requirements</h3>
                        <table class="requirement-table" id="essay"></table>
                    </section>
                </div>
                <div class="results-column results-column-wide">
                    <section class="box primary-alt">
                        <h3>Admission requirements</h3>
                        <table class="requirement-table" id="admission"></table>
                    </section>
                    <section class="box primary-alt">
                        <h3>Module requirements</h3>
                        <table class="requirement-table" id="module"></table>
                    </section>
                </div>
            </div>
        </main>
        <footer data-include="footer"></footer>
    </body>
</html>